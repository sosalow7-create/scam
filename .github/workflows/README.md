# GitHub Actions Workflows

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ CI/CD.

## üîÑ Workflows

### 1. iOS Build (`ios-build.yml`)
**–¢—Ä–∏–≥–≥–µ—Ä—ã:** Push –∏ Pull Request –≤ `main`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é Xcode
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç –¥–ª—è iOS Simulator
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç –∞—Ä—Ö–∏–≤ —Å–±–æ—Ä–∫–∏
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç —Å–±–æ—Ä–∫–∏ (–¥–æ—Å—Ç—É–ø–µ–Ω 7 –¥–Ω–µ–π)

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ push –≤ main
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Actions

### 2. Swift Lint (`swift-lint.yml`)
**–¢—Ä–∏–≥–≥–µ—Ä—ã:** Push –∏ Pull Request –≤ `main`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç SwiftLint
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º Swift

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ SwiftLint –Ω–∞–π–¥—ë—Ç –ø—Ä–æ–±–ª–µ–º—ã

### 3. Create Release (`release.yml`)
**–¢—Ä–∏–≥–≥–µ—Ä—ã:** Push —Ç–µ–≥–∞ –≤–∏–¥–∞ `v*` (–Ω–∞–ø—Ä–∏–º–µ—Ä, v1.0.0)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç —Ä–µ–ª–∏–∑–Ω—É—é –≤–µ—Ä—Å–∏—é
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç GitHub Release
- ‚úÖ –ü—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

**–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ä–µ–ª–∏–∑:**
```bash
git tag v1.0.0
git push origin v1.0.0
```

## üìä –°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å –º–æ–∂–Ω–æ:
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–±–µ–π–¥–∂–∏)
- –í–æ –≤–∫–ª–∞–¥–∫–µ Actions
- –í Pull Request'–∞—Ö

## üõ†Ô∏è –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–µ—Ä–µ–¥ push'–æ–º –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SwiftLint
brew install swiftlint

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥
swiftlint

# –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
xcodebuild clean build \
  -project SCAM.xcodeproj \
  -scheme SCAM \
  -sdk iphonesimulator
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é Xcode
–í `ios-build.yml`:
```yaml
xcode-version: '15.0'  # –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Å–∏–º—É–ª—è—Ç–æ—Ä
```yaml
-destination 'platform=iOS Simulator,name=iPhone 14,OS=17.0'
```

### –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã
Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret

–î–ª—è code signing –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è:
- `CERTIFICATES_P12` - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- `CERTIFICATES_PASSWORD` - –ø–∞—Ä–æ–ª—å
- `PROVISIONING_PROFILE` - –ø—Ä–æ—Ñ–∏–ª—å

## üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
```yaml
- name: Run tests
  run: |
    xcodebuild test \
      -project SCAM.xcodeproj \
      -scheme SCAM \
      -destination 'platform=iOS Simulator,name=iPhone 15'
```

### –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
```yaml
- name: Generate code coverage
  run: |
    xcodebuild test \
      -project SCAM.xcodeproj \
      -scheme SCAM \
      -enableCodeCoverage YES
```

### TestFlight –¥–µ–ø–ª–æ–π
–¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ App Store Connect API –∫–ª—é—á–µ–π.

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–±–æ—Ä–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ `macos-latest` (GitHub-hosted runners)
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö - 2000 –º–∏–Ω—É—Ç/–º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è 7 –¥–Ω–µ–π (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)

## üêõ Troubleshooting

**–°–±–æ—Ä–∫–∞ –ø–∞–¥–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å scheme name –≤ Xcode
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è SCAM.xcodeproj
- –ü—Ä–æ–≤–µ—Ä—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å iOS SDK

**SwiftLint –ø–∞–¥–∞–µ—Ç:**
- –°–æ–∑–¥–∞–π `.swiftlint.yml` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π `continue-on-error: true`

**–ù–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è release:**
- –ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç —Ç–µ–≥–∞ (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `v`)
- –£–±–µ–¥–∏—Å—å —á—Ç–æ push'–Ω—É–ª —Ç–µ–≥: `git push origin v1.0.0`
